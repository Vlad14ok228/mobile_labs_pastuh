package com.lab4.data.entity

import androidx.room.ColumnInfo
import androidx.room.Entity
import androidx.room.ForeignKey
import androidx.room.PrimaryKey

@Entity(
    tableName = "subjectsLabs", // üëà –ê–Ω–æ—Ç–∞—Ü—ñ—è @Entity: –ü–æ–∑–Ω–∞—á–∞—î —Ü–µ–π –∫–ª–∞—Å —è–∫ –¢–ê–ë–õ–ò–¶–Æ (–°—É—Ç–Ω—ñ—Å—Ç—å)
    foreignKeys = [ // üëà –°–µ–∫—Ü—ñ—è –¥–ª—è –æ–ø–∏—Å—É –ó–û–í–ù–Ü–®–ù–Ü–• –ö–õ–Æ–ß–Ü–í (–∑–≤'—è–∑–∫—ñ–≤ –∑ —ñ–Ω—à–∏–º–∏ —Ç–∞–±–ª–∏—Ü—è–º–∏)
        ForeignKey(
            entity = SubjectEntity::class, // üëà entity: –¶–µ –≥–æ–ª–æ–≤–Ω–∞ —Ç–∞–±–ª–∏—Ü—è, –Ω–∞ —è–∫—É –º–∏ –ø–æ—Å–∏–ª–∞—î–º–æ—Å—å (–ü—Ä–µ–¥–º–µ—Ç–∏)
            parentColumns = ["id"], // üëà parentColumns: –°—Ç–æ–≤–ø—á–∏–∫ —É –≥–æ–ª–æ–≤–Ω—ñ–π —Ç–∞–±–ª–∏—Ü—ñ (SubjectEntity.id)
            childColumns = ["subject_id"], // üëà childColumns: –°—Ç–æ–≤–ø—á–∏–∫ —É —Ü—ñ–π —Ç–∞–±–ª–∏—Ü—ñ (SubjectLabEntity.subject_id), —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å ID –ø—Ä–µ–¥–º–µ—Ç–∞
            onUpdate = ForeignKey.CASCADE, // üëà onUpdate: –Ø–∫—â–æ ID –ø—Ä–µ–¥–º–µ—Ç–∞ –≤ –≥–æ–ª–æ–≤–Ω—ñ–π —Ç–∞–±–ª–∏—Ü—ñ –∑–º—ñ–Ω–∏—Ç—å—Å—è, –∑–º—ñ–Ω–∏—Ç–∏ –π–æ–≥–æ —ñ —Ç—É—Ç
            onDelete = ForeignKey.CASCADE // üëà onDelete: –Ø–∫—â–æ –ø—Ä–µ–¥–º–µ—Ç –±—É–¥–µ –≤–∏–¥–∞–ª–µ–Ω–æ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–¥–∞–ª–∏—Ç–∏ –í–°–Ü –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –Ω–∏–º –ª–∞–±–∏
        )
    ]
)
data class SubjectLabEntity(
    // –¶–µ –æ—Å–Ω–æ–≤–Ω–∏–π –∫–ª—é—á, —è–∫–∏–π —É–Ω—ñ–∫–∞–ª—å–Ω–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫—É—î –∫–æ–∂–Ω—É –ª–∞–±—É.
    @PrimaryKey(autoGenerate = true) val id: Int? = null,
    // üëà @PrimaryKey: –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –ª–∞–±–∏. autoGenerate = true: Room —Å–∞–º –ø—Ä–∏—Å–≤–æ—é—î ID.

    @ColumnInfo(name = "subject_id") val subjectId: Int,
    // üëà @ColumnInfo: –î–æ–¥–∞—Ç–∫–æ–≤–∞ –∞–Ω–æ—Ç–∞—Ü—ñ—è, —è–∫–∞ —è–≤–Ω–æ –≤–∫–∞–∑—É—î —ñ–º'—è —Å—Ç–æ–≤–ø—á–∏–∫–∞ –≤ –±–∞–∑—ñ.
    // subjectId: –¶–µ –ó–û–í–ù–Ü–®–ù–Ü–ô –ö–õ–Æ–ß, —è–∫–∏–π –∑–≤'—è–∑—É—î —Ü—é –ª–∞–±—É –∑ –ø–µ–≤–Ω–∏–º –ø—Ä–µ–¥–º–µ—Ç–æ–º.

    val title: String, // üëà –ù–∞–∑–≤–∞ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ—ó —Ä–æ–±–æ—Ç–∏
    val description: String, // üëà –î–µ—Ç–∞–ª—å–Ω–∏–π –æ–ø–∏—Å
    val comment: String? = null, // üëà –ü–æ–ª–µ –¥–ª—è –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ (–º–æ–∂–µ –±—É—Ç–∏ –ø–æ—Ä–æ–∂–Ω—ñ–º, —Ç–æ–º—É String?)
    val status: String = "–ù–µ —Ä–æ–∑–ø–æ—á–∞—Ç–æ" // üëà –ü–æ–ª–µ –°–¢–ê–ù–£ (—Ü–µ –∫–ª—é—á–æ–≤–µ –ø–æ–ª–µ –∑–∞–≤–¥–∞–Ω–Ω—è)
    // –ó–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º ("–ù–µ —Ä–æ–∑–ø–æ—á–∞—Ç–æ") –±—É–¥–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–µ, —è–∫—â–æ —Å—Ç–∞—Ç—É—Å –Ω–µ –≤–∫–∞–∑–∞–Ω–æ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ.
)