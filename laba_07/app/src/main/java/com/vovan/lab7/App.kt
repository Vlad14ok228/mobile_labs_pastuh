package com.vovan.lab7

import android.app.Application
import com.vovan.lab7.di.appModule
import org.koin.android.ext.koin.androidContext
import org.koin.android.ext.koin.androidLogger
import org.koin.core.context.GlobalContext.startKoin

class App: Application() {
    // ‚òùÔ∏è –ö–ª–∞—Å App –Ω–∞—Å–ª—ñ–¥—É—î Application. –¶–µ –Ω–∞–π–ø–µ—Ä—à–∏–π –∫–ª–∞—Å, —è–∫–∏–π –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è, –∫–æ–ª–∏ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∞ —Å–∏—Å—Ç–µ–º–∞
    // –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫ —É –ø–∞–º'—è—Ç—å (–Ω–∞–≤—ñ—Ç—å —Ä–∞–Ω—ñ—à–µ, –Ω—ñ–∂ MainActivity).

    override fun onCreate() {
        super.onCreate()

        // --- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Koin ---
        startKoin {
            // üëà –ì–æ–ª–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è Koin, —è–∫–∞ –∑–∞–ø—É—Å–∫–∞—î –π–æ–≥–æ —Ä–æ–±–æ—Ç—É.

            androidLogger()
            // üëà –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è: –î–æ–∑–≤–æ–ª—è—î Koin –≤–∏–≤–æ–¥–∏—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Å–≤–æ—é —Ä–æ–±–æ—Ç—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —è–∫—ñ –æ–±'—î–∫—Ç–∏ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è)
            // —É Logcat (–¥–æ–ø–æ–º–∞–≥–∞—î –ø—Ä–∏ –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—ñ).

            androidContext(this@App)
            // üëà –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è: –ù–∞–¥–∞—î Koin –¥–æ—Å—Ç—É–ø –¥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É Android (Application Context).
            // Koin –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ü–µ–π –∫–æ–Ω—Ç–µ–∫—Å—Ç, —â–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –±–∞–∑—É –¥–∞–Ω–∏—Ö –∞–±–æ —ñ–Ω—à—ñ —Å–∏—Å—Ç–µ–º–Ω—ñ –æ–±'—î–∫—Ç–∏.

            modules(appModule)
            // üëà –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è: –í–∫–∞–∑—É—î Koin, —è–∫–∏–π —Å–∞–º–µ –Ω–∞–±—ñ—Ä —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π (—è–∫—ñ –æ–±'—î–∫—Ç–∏ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏) –≤—ñ–Ω –º–∞—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏.
            // 'appModule' - —Ü–µ –≤–∞—à —Ñ–∞–π–ª, –¥–µ –æ–ø–∏—Å–∞–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è Retrofit, ViewModel, Repository —Ç–æ—â–æ.
        }
    }
}